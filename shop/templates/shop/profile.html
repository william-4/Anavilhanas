{% extends "base.html" %}

{% block content %}
<div class="container mx-auto">      
    <main class="flex flex-col self-center px-5 mt-14 w-full text-base leading-6 text-gray-500 max-w-[1089px] max-md:mt-10 max-md:max-w-full">
        <h2 class="self-start text-4xl font-bold text-center text-gray-800 leading-[65.88px]">Contact Information</h2>
        <form id="form-fields" action="{% url 'shop:profile' %}" method="post" class="profile-form max-md:mt-10 max-md:max-w-full">
            {% csrf_token %}
            <div class="flex gap-5 justify-between max-md:flex-wrap max-md:max-w-full">
                <div class="w-1/2 max-md:w-full">
                    <label for="profile_name" class="">Name</label>
                    <input id="profile_name" type="text" name="profile-first_name" value="{{ form1.first_name.value|default_if_none:'' }}" placeholder="" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" required readonly>
                </div>
                <div class="w-1/2 max-md:w-full">
                    <label for="profile_phone_number" class="">Phone number</label>
                    <input id="profile_phone_number" type="text" name="profile-phone_number" value="{{ form1.phone_number.value|default_if_none:'' }}" placeholder="" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" required readonly>
                </div>
            </div>         
            <div class="flex gap-5 pt-5 justify-between max-md:flex-wrap max-md:max-w-full">
                <div class="w-1/2 max-md:w-full">
                    <label for="profile_email_address" class=""><p style="font-style: italic;">Your favorite email address:</p></label>
                    <input id="profile_email_address" type="text" name="profile-email" value="{{ form1.email.value|default_if_none:'' }}" placeholder="" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" required readonly>
                </div>
                <div class="w-1/2 max-md:w-full">
                    <label for="profile_birth_date" class=""><p style="font-style: italic;">Get special offers on your birthday</p></label>
                    <input id="profile_birth_date" type="date" name="profile-date_of_birth" value="{{ date_field|default_if_none:'' }}" placeholder="" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" readonly>
                </div>
            </div>
            <h2 class="self-start pt-10 text-4xl font-bold text-gray-800 leading-[65.88px]">Shipping Location</h2>
                <div class="flex gap-5 justify-between max-md:flex-wrap max-md:max-w-full">
                    <div class="w-1/2 max-md:w-full">
                        <label for="address_city" class="">City</label>
                        <input id="address_city" type="text" name="address-city" value="{{ form2.city.value|default_if_none:'' }}" placeholder="City*" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" required readonly>
                    </div>
                    <div class="w-1/2 max-md:w-full">
                        <label for="address_town" class="">Town</label>
                        <input id="address_town" type="text" name="address-town" value="{{ form2.town.value|default_if_none:'' }}" placeholder="Town*" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" required readonly>
                    </div>
                </div>
                <div class="flex gap-5 pt-5 justify-between max-md:flex-wrap max-md:max-w-full">
                    <div class="w-1/2 max-md:w-full">
                        <label for="address_major_road" class="">Major road</label>
                        <input id="address_major_road" type="text" name="address-major_road" value="{{ form2.major_road.value|default_if_none:'' }}" placeholder="Major road*" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" required readonly>
                    </div>
                    <div class="w-1/2 max-md:w-full">
                        <label for="address_estate" class="">Estate</label>
                        <input id="address_estate" type="text" name="address-estate" value="{{ form2.estate.value|default_if_none:'' }}" placeholder="Estate" class="form-input w-full py-3 pr-4 pl-5 bg-white rounded-md border border-solid border-zinc-200 max-md:pr-5 max-md:max-w-full" required readonly>
                    </div>
                </div>
                <div class="mt-10 max-md:mt-10 max-md:max-w-full">
                    <label for="address_details" class="">Delivery location details</label>
                    <textarea id="address_details" name="address-description" placeholder="Tell us more about your delivery location e.g. landmarks" rows="2" class="form-input w-full px-5 pt-3 pb-5 bg-white rounded-md border border-solid border-zinc-200 max-md:max-w-full" readonly>{{ form2.description.value|default_if_none:'' }}</textarea>
                </div>
            <button type="button" id="editSaveBtn" onclick="toggleEditSave()" class="w-full px-9 py-4 mt-16 text-lg font-bold leading-5 text-center text-white bg-gray-800 rounded-md max-md:px-5 max-md:mt-10 max-md:max-w-full">Edit</button>
        </form>
    </main>
</div>
<script>
    function toggleEditSave() {
        const editSaveBtn = document.getElementById('editSaveBtn');
        const inputs = document.querySelectorAll('.form-input');

        if (editSaveBtn.textContent === 'Edit') {
            inputs.forEach(input => input.removeAttribute('readonly'));
            editSaveBtn.textContent = 'Save';
        }
        else {
            document.querySelector('form').submit();
        }
    }
</script>
{% endblock %}
